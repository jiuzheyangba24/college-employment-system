# 高校就业信息管理系统项目说明书

## 目录

1. [项目背景](#1-项目背景)
2. [技术架构](#2-技术架构)
3. [核心功能](#3-核心功能)
4. [项目结构](#4-项目结构)
5. [数据库设计](#5-数据库设计)
6. [部署说明](#6-部署说明)

---

## 1. 项目背景

### 1.1 项目概述

高校就业信息管理系统是一个基于Spring Boot开发的Web应用程序，旨在帮助高校管理学生信息和就业数据。系统提供了学生信息管理、就业信息管理、数据统计分析等功能，通过可视化的界面展示就业数据趋势和分布情况。

### 1.2 项目目标

- 实现学生信息的数字化管理
- 跟踪学生就业情况，建立完整的就业信息档案
- 提供数据统计分析功能，为学校决策提供数据支撑
- 通过AI助手为学生提供专业推荐和就业指导

### 1.3 项目特点

- 基于Spring Boot的现代化Web应用架构
- 集成MyBatis进行数据库操作
- 使用ECharts进行数据可视化展示
- 集成LangChain4j人工智能框架，提供AI助手功能
- 支持Excel数据导入导出
- 完善的权限管理和操作日志记录

---

## 2. 技术架构

### 2.1 后端技术栈

| 技术 | 版本 | 说明 |
|------|------|------|
| Spring Boot | 3.2.0 | 核心框架 |
| MyBatis | 3.0.3 | 数据持久层框架 |
| MySQL | 8.0+ | 关系型数据库 |
| MongoDB | - | 非关系型数据库(聊天记忆存储) |
| LangChain4j | 1.0.0-beta3 | 人工智能框架 |
| Maven | 3.8+ | 项目构建工具 |
| Java | 17 | 开发语言 |

### 2.2 前端技术栈

| 技术 | 版本 | 说明 |
|------|------|------|
| Bootstrap | 5.3.3 | UI框架 |
| jQuery | 3.6.0 | JavaScript库 |
| ECharts | - | 数据可视化库 |
| Thymeleaf | - | 模板引擎 |
| Font Awesome | 6.0.0 | 图标库 |

### 2.3 核心依赖

```xml
<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    <dependency>
        <groupId>dev.langchain4j</groupId>
        <artifactId>langchain4j-easy-rag</artifactId>
        <version>1.0.0-beta3</version>
    </dependency>
    <dependency>
        <groupId>org.mybatis.spring.boot</groupId>
        <artifactId>mybatis-spring-boot-starter</artifactId>
        <version>3.0.3</version>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-devtools</artifactId>
        <optional>true</optional>
    </dependency>
    <dependency>
        <groupId>org.projectlombok</groupId>
        <artifactId>lombok</artifactId>
        <optional>true</optional>
    </dependency>
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
        <version>8.0.33</version>
    </dependency>
    <dependency>
        <groupId>com.alibaba</groupId>
        <artifactId>easyexcel</artifactId>
        <version>3.3.2</version>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-mongodb</artifactId>
    </dependency>
    <dependency>
        <groupId>com.github.xiaoymin</groupId>
        <artifactId>knife4j-openapi3-jakarta-spring-boot-starter</artifactId>
        <version>4.3.0</version>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-aop</artifactId>
    </dependency>
    <dependency>
        <groupId>com.alibaba</groupId>
        <artifactId>fastjson</artifactId>
        <version>2.0.40</version>
    </dependency>
    <dependency>
        <groupId>cn.hutool</groupId>
        <artifactId>hutool-all</artifactId>
        <version>5.8.21</version>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-thymeleaf</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-security</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-webflux</artifactId>
    </dependency>
    <dependency>
        <groupId>dev.langchain4j</groupId>
        <artifactId>langchain4j-reactor</artifactId>
        <version>1.0.0-beta3</version>
    </dependency>
    <dependency>
        <groupId>dev.langchain4j</groupId>
        <artifactId>langchain4j-spring-boot-starter</artifactId>
        <version>1.0.0-beta3</version>
    </dependency>
    <dependency>
        <groupId>dev.langchain4j</groupId>
        <artifactId>langchain4j-community-dashscope-spring-boot-starter</artifactId>
        <version>1.0.0-beta3</version>
    </dependency>
</dependencies>
```

### 2.4 LangChain4j人工智能框架技术说明

#### 2.4.1 框架概述
LangChain4j是一个用于构建基于大型语言模型(LLM)应用程序的Java框架。它提供了丰富的组件和工具，简化了与LLM交互的过程，支持多种模型提供商和功能集成。

#### 2.4.2 核心组件

##### 2.4.2.1 AI助手(Assistant)
- 基于Spring Boot Starter快速集成
- 支持流式响应输出
- 内置工具调用机制

##### 2.4.2.2 RAG增强检索(Easy-RAG)
- 支持文档加载和分块
- 自动嵌入和向量存储
- 语义相似性搜索

##### 2.4.2.3 内存管理
- 支持多种内存存储方式(MongoDB、内存等)
- 对话历史管理
- 上下文维护

##### 2.4.2.4 模型集成
- 支持阿里云DashScope通义千问系列模型
- 统一的API接口抽象
- 流式和非流式响应支持

#### 2.4.3 集成架构
```
用户请求 → AssistantController → Assistant服务 → 调用工具类查询数据库
                                                                    ↓
                                                            返回结构化数据给AI模型
                                                                    ↓
                                                        AI模型结合数据生成自然语言响应
                                                                    ↓
                                                                流式返回给前端
```

#### 2.4.4 配置说明
```yaml
langchain4j:
  community: #阿里百炼平台引入通义系列模型
    dashscope:
      streaming-chat-model:
        model-name: qwen3-max
        api-key: ${DASH_SCOPE_API_KEY} # 从环境变量读取API密钥
```

#### 2.4.5 工作流程
1. 用户在AI聊天界面输入问题
2. 前端通过WebSocket或HTTP流式请求后端
3. AssistantController接收请求并转发给Assistant服务
4. Assistant服务分析用户问题，识别需要调用的工具
5. 调用ProfessionalTools中的方法查询数据库获取实时数据
6. 将查询结果和用户问题一起发送给AI模型
7. AI模型基于真实数据生成自然语言响应
8. 通过流式响应将结果逐段返回给前端显示

#### 2.4.6 核心类说明
- Assistant.java: AI助手主服务类，定义AI行为和响应逻辑
- ProfessionalTools.java: 专业工具类，提供数据库查询方法供AI调用
- AssistantController.java: 控制器，处理前端请求和AI响应
- MongoChatMemoryStore.java: MongoDB聊天记忆存储实现

---

## 3. 核心功能

### 3.1 学生管理模块
- 学生信息的增删改查
- 学生数据的批量导入导出
- 学生就业状态管理（已就业、待就业、实习中等）
- 学生信息按学号、姓名搜索

### 3.2 就业信息管理模块
- 就业信息的增删改查
- 就业数据的批量导入导出
- 就业信息与学生信息关联
- 就业信息按学生姓名、行业搜索

### 3.3 基础数据管理模块
- 院系信息管理
- 专业信息管理
- 行业信息管理

### 3.4 数据统计分析模块
- 首页数据统计展示
- 全国就业分布地图
- 就业趋势分析图表
- 行业就业分布统计
- 学院专业就业关系分析

### 3.5 系统管理模块
- 用户登录认证
- 操作日志记录
- 登录日志记录

### 3.6 AI智能助手模块
- 基于LangChain4j的AI聊天助手
- 专业推荐和就业数据分析
- RAG增强检索功能
- MongoDB聊天记忆存储

---

## 4. 项目结构

```
src/
├── main/
│   ├── java/
│   │   └── com.student.app/
│   │       ├── StudentApplication.java          # 启动类
│   │       ├── aspect/                         # 切面组件(日志记录等)
│   │       ├── assistant/                      # AI助手相关组件
│   │       ├── bean/                           # 实体类
│   │       │   └── dto/                        # 数据传输对象
│   │       ├── config/                         # 配置类
│   │       ├── controller/                     # 控制器层
│   │       ├── exception/                      # 异常处理
│   │       ├── mapper/                         # 数据访问层接口
│   │       ├── service/                        # 业务逻辑层
│   │       │   └── impl/                       # 业务逻辑实现
│   │       └── utils/                          # 工具类
│   └── resources/
│       ├── docs/                               # 文档文件(RAG增强)
│       ├── mapper/                             # MyBatis映射文件
│       ├── templates/                          # Thymeleaf模板文件
│       └── application.yaml                    # 配置文件
└── test/                                       # 测试代码
```

### 4.1 核心包说明

#### 4.1.1 controller包
包含所有控制器类，处理HTTP请求：
- AssistantController.java: AI助手相关请求处理
- DashboardController.java: 首页数据统计请求处理
- DepartmentsController.java: 院系管理请求处理
- EmploymentInfoController.java: 就业信息管理请求处理
- HomeController.java: 主页和导航请求处理
- IndustriesController.java: 行业信息管理请求处理
- MajorsController.java: 专业信息管理请求处理
- StudentController.java: 学生信息管理请求处理
- UsersController.java: 用户管理请求处理

#### 4.1.2 service包
包含业务逻辑接口及实现：
- DepartmentsService.java: 院系业务逻辑接口
- EmploymentInfoService.java: 就业信息业务逻辑接口
- IndustriesService.java: 行业信息业务逻辑接口
- MajorsService.java: 专业信息业务逻辑接口
- StudentService.java: 学生信息业务逻辑接口
- UsersService.java: 用户信息业务逻辑接口

#### 4.1.3 mapper包
包含MyBatis数据访问接口：
- DepartmentsMapper.java: 院系数据访问接口
- EmploymentInfoMapper.java: 就业信息数据访问接口
- IndustriesMapper.java: 行业信息数据访问接口
- MajorsMapper.java: 专业信息数据访问接口
- StudentMapper.java: 学生信息数据访问接口
- UsersMapper.java: 用户信息数据访问接口

#### 4.1.4 assistant包
包含AI助手相关组件：
- Assistant.java: AI助手接口定义
- ChatMessages.java: 聊天消息实体类
- MongoChatMemoryStore.java: MongoDB聊天记忆存储实现
- ProfessionalTools.java: 专业工具类，提供数据库查询方法供AI调用

#### 4.1.5 config包
包含系统配置类：
- DashScopeConfig.java: 阿里云DashScope配置
- Knife4jConfig.java: Knife4j API文档配置
- MemoryChatConfig.java: AI聊天记忆配置
- SecurityConfig.java: Spring Security安全配置

#### 4.1.6 utils包
包含工具类：
- CaptchaUtil.java: 验证码生成工具
- ExcelUtils.java: Excel导入导出工具
- HutoolUtil.java: Hutool工具封装
- PageUtil.java: 分页工具类
- ValidationUtils.java: 数据验证工具

---

## 5. 数据库设计

### 5.1 数据库表结构

#### 5.1.1 学生表(students)
```sql
CREATE TABLE `students` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '学生ID',
  `snum` varchar(30) NOT NULL COMMENT '学号',
  `name` varchar(30) NOT NULL COMMENT '学生姓名',
  `tel` varchar(30) DEFAULT NULL COMMENT '联系方式',
  `sex` enum('男','女') DEFAULT '男' COMMENT '性别',
  `major_id` int(11) NOT NULL COMMENT '专业外键',
  `grade` varchar(30) DEFAULT NULL COMMENT '班级',
  `status` varchar(20) DEFAULT '未就业' COMMENT '就业状态',
  `created_at` datetime DEFAULT current_timestamp() COMMENT '创建时间',
  `updated_at` datetime DEFAULT NULL ON UPDATE current_timestamp() COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `snum` (`snum`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

#### 5.1.2 就业信息表(employment_info)
```sql
CREATE TABLE `employment_info` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '就业信息ID',
  `student_id` int(11) NOT NULL COMMENT '学号',
  `company` varchar(30) NOT NULL COMMENT '就业单位',
  `position` varchar(30) DEFAULT NULL COMMENT '职位',
  `salary` double DEFAULT NULL COMMENT '薪资',
  `employment_date` date DEFAULT NULL COMMENT '就业时间',
  `industry_id` int(11) NOT NULL COMMENT '行业名称',
  `created_at` datetime DEFAULT current_timestamp() COMMENT '创建时间',
  `updated_at` datetime DEFAULT NULL ON UPDATE current_timestamp() COMMENT '更新时间',
  `province` varchar(30) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

#### 5.1.3 院系表(departments)
```sql
CREATE TABLE `departments` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '院系ID',
  `name` varchar(30) NOT NULL COMMENT '院系名称',
  `dean` varchar(30) NOT NULL COMMENT '院长姓名',
  `phone` varchar(30) DEFAULT NULL COMMENT '联系电话',
  `description` text DEFAULT NULL COMMENT '院系简介',
  `created_at` datetime DEFAULT current_timestamp() COMMENT '创建时间',
  `updated_at` datetime DEFAULT NULL ON UPDATE current_timestamp() COMMENT '更新时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

#### 5.1.4 专业表(majors)
```sql
CREATE TABLE `majors` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '专业ID',
  `name` varchar(30) NOT NULL COMMENT '专业名称',
  `department_id` int(11) NOT NULL COMMENT '院系外键',
  `duration` varchar(30) DEFAULT NULL COMMENT '学制',
  `description` text DEFAULT NULL COMMENT '专业简介',
  `created_at` datetime DEFAULT current_timestamp() COMMENT '创建时间',
  `updated_at` datetime DEFAULT NULL ON UPDATE current_timestamp() COMMENT '更新时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

#### 5.1.5 行业表(industries)
```sql
CREATE TABLE `industries` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '行业ID',
  `name` varchar(30) DEFAULT NULL COMMENT '行业名称',
  `description` text DEFAULT NULL COMMENT '行业描述',
  `created_at` datetime DEFAULT current_timestamp() COMMENT '创建时间',
  `updated_at` datetime DEFAULT NULL ON UPDATE current_timestamp() COMMENT '更新时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

#### 5.1.6 用户表(users)
```sql
CREATE TABLE `users` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '用户ID',
  `username` varchar(30) NOT NULL COMMENT '用户名',
  `password` text NOT NULL COMMENT '密码',
  `nickname` varchar(30) DEFAULT NULL COMMENT '昵称',
  `tel` varchar(30) DEFAULT NULL COMMENT '邮箱',
  `avatar` text DEFAULT NULL COMMENT '头像',
  `status` enum('启用','禁用') DEFAULT '启用' COMMENT '用户状态',
  `created_at` datetime DEFAULT current_timestamp() COMMENT '创建时间',
  `updated_at` datetime DEFAULT NULL ON UPDATE current_timestamp() COMMENT '更新时间',
  `login_failed_count` int(11) DEFAULT 0 COMMENT '登录失败次数',
  `last_failed_login_time` datetime DEFAULT NULL COMMENT '最后登录失败时间',
  `account_locked` enum('是','否') DEFAULT '否' COMMENT '账号是否锁定',
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

### 5.2 表关系说明

1. 学生表与专业表：多对一关系，通过major_id关联
2. 专业表与院系表：多对一关系，通过department_id关联
3. 就业信息表与学生表：多对一关系，通过student_id关联
4. 就业信息表与行业表：多对一关系，通过industry_id关联

---

## 6. 部署说明

### 6.1 环境要求

- JDK 17或更高版本
- MySQL 8.0或更高版本
- MongoDB 4.0或更高版本
- Maven 3.8或更高版本
- 内存：至少2GB RAM

### 6.2 数据库配置

1. 创建数据库：
```sql
CREATE DATABASE college CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
```

2. 创建MongoDB数据库：
```bash
# 确保MongoDB服务已启动
mongod --dbpath /path/to/db
```

3. 执行SQL脚本初始化数据表和基础数据

### 6.3 应用配置

在`application.yaml`中配置数据库连接：

```yaml
spring:
  main:
    allow-bean-definition-overriding: true
  devtools:
    restart:
      enabled: true
      additional-paths: src/main/java
    livereload:
      enabled: true
  datasource:
    url: jdbc:mysql://localhost:3306/college?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf8&useSSL=false
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver

    hikari:
      # 连接池名称
      pool-name: HikariCP
      # 最小空闲连接数
      minimum-idle: 5
      # 最大连接数
      maximum-pool-size: 20
      # 连接超时时间(毫秒)
      connection-timeout: 30000
      # 空闲连接超时时间(毫秒)
      idle-timeout: 600000
      # 连接最大存活时间(毫秒)
      max-lifetime: 1800000
      # 连接测试查询
      connection-test-query: SELECT 1
  data:
    mongodb:
      uri: mongodb://localhost:27017/professional_memory_chat
  web:
    resources:
      static-locations: classpath:/static/,classpath:/public/,file:./static/
mybatis:
  mapper-locations: classpath:mapper/*.xml # mapper文件位置
  type-aliases-package: com.student.app.bean # 实体类位置
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl # 日志实现
    map-underscore-to-camel-case: true # 开启驼峰命名
# 服务器端口
server:
  port: 80
  error:
    whitelabel:
      enabled: false
    path: /error
langchain4j:
  community: #阿里百炼平台引入通义系列模型
    dashscope:
      streaming-chat-model:
        model-name: qwen3-max
        api-key: ${DASH_SCOPE_API_KEY} # 从环境变量读取API密钥
```

### 6.4 项目构建与运行

1. 使用Maven构建项目：
```bash
mvn clean package
```

2. 运行项目：
```bash
java -jar target/student-1.0-SNAPSHOT.jar
```

3. 访问应用：
   - 地址：http://localhost:80
   - 默认管理员账号：admin
   - 默认密码：123456

### 6.5 部署注意事项

1. 生产环境应修改默认数据库密码
2. 建议配置SSL证书以提高安全性
3. 可根据服务器性能调整线程池和连接池配置
4. 建议配置日志文件滚动策略避免磁盘空间不足
5. 需要在环境变量中设置DASH_SCOPE_API_KEY以启用AI助手功能